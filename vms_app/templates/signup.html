<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">

  <title>Appointment Signup</title>
</head>

<body>
  <div class="container py-5">
    <h1 class="pb-2 border-bottom text-center">Register for an Appointment</h1>
    <form method="POST" id="pageForm" class="post-form">

      <div class="container d-flex justify-content-center">
        <div class="col-6 row g-4 py-4 border-bottom" id="form-page-1" style="display:inline">
        <h3 class="pb-2 pt-5 border-bottom">Personal Details</h3>

        {% csrf_token %}

        <div class="col-sm-12">
          <label for="firstName" class="prompt">First Name</label>
          <input type="text" class="form-control" 
            id="{{ patient_form.first_name.id_for_label }}" 
            name="{{ patient_form.first_name.name }}">
        </div>

        <div class="col-sm-12">
          <label for="lastName" class="prompt">Last Name</label>
          <input type="text" class="form-control" 
            id="{{ patient_form.last_name.id_for_label }}"
            name="{{ patient_form.last_name.name }}">
        </div>

        <div class="col-sm-12">
          <label for="dateOfBirth" class="form-label" id="method">Date of Birth</label>
          <input type="date" class="form-control" 
            id="{{ patient_form.dob.id_for_label }}"
            name="{{ patient_form.dob.name }}">
        </div>

        <div class="col-sm-12">
          <label for="gender" class="form-label">Gender</label>
          {% for radio in patient_form.gender %}
          <div onchange="genderQuestion('{{ radio.choice_label }}')">
            {{ radio.tag }}
            <label class="form-check-label" for="{{ radio.id_for_label }}">
              {{ radio.choice_label }}
            </label>
          </div>
          {% endfor %}
        </div>

        <div class="col-sm-12">
          <label for="race" class="form-label">Race</label>
          {% for select in patient_form.race %}
          <div>
            {{select.tag}}
            <label class="form-check-label" for="{{ select.id_for_label }}">
              {{ select.choice_label }}
            </label>
          </div>
          {% endfor %}
        </div>

        <div class="col-sm-12">
          <label for="searchBy" class="form-label">Ethnicity</label>
          {% for radio in patient_form.ethnicity %}
          <div>
            {{ radio.tag }}
            <label class="form-check-label" for="{{ radio.id_for_label }}">
             {{ radio.choice_label }}
            </label>
          </div>
          {% endfor %}
        </div>

        <div class="text-center">
          <a class="btn btn-primary my-4 float-right" onclick="goTo(2)">Next</a>
        </div>

        </div>
      </div> <!-- end page 1 -->



      <div class="container d-flex justify-content-center">
        <div class="col-6 row g-4 py-4 border-bottom" id="form-page-2" style="display:none">
        <h3 class="pb-2 pt-5 border-bottom">Contact Information</h3>

        {% csrf_token %}

        <div class="col-sm-12">
          <label for="email" class="prompt">Email</label>
          <input type="text" class="form-control" 
            id="{{ patient_form.email.id_for_label }}"
            name="{{ patient_form.email.name }}">
        </div>

        <div class="col-sm-12">
          <label for="phoneNumber" class="prompt">Phone Number</label>
          <input type="text" class="form-control" 
            id="{{ patient_form.phone.id_for_label }}"
            name="{{ patient_form.phone.name }}">
        </div>

        <div class="col-sm-12">
          <label for="{{ patient_form.street.id_for_label }}" class="prompt">Address</label>
          <input type="text" class="form-control" 
            id="{{ patient_form.street.id_for_label }}"
            name="{{ patient_form.street.name }}">
        </div>

        <div class="col-sm-6">
          <label for="{{ patient_form.city.id_for_label }}" class="prompt">City</label>
          <input type="text" class="form-control" 
            id="{{ patient_form.city.id_for_label }}"
            name="{{ patient_form.city.name }}">
        </div>

        <div class="col-sm-6">
          <label for="{{ patient_form.state.id_for_label }}" class="form-label">State</label>
          <select class="form-select" 
            id="{{ patient_form.state.id_for_label }}"
            name="{{ patient_form.state.name }}">
            {% for select in patient_form.state %}
              {{ select }}
            {% endfor %}
          </select>
        </div>

        <div class="col-sm-6">
          <label for="{{ patient_form.zip_code.id_for_label }}" class="prompt">Zip</label>
          <input type="tel" class="form-control" 
            id="{{ patient_form.zip_code.id_for_label }}"
            name="{{ patient_form.zip_code.name }}">
        </div>

        <div class="col-sm-12">
          <label for="addressType" class="form-label"></label>
          {% for radio in patient_form.address_type %}
          <div>
          {{ radio.tag }}
            <label class="form-check-label" for="{{ radio.id_for_label }}">
             {{ radio.choice_label }}
            </label>
          </div>
          {% endfor %}
        </div>

        <div class="text-center">
          <a class="btn btn-primary my-4 float-right" onclick="goTo(1)">Previous</a>
          <a class="btn btn-primary my-4 float-right" onclick="goTo(3)">Next</a>
        </div>
        
        </div>
      </div> <!-- end page 2 -->





      <div class="container d-flex justify-content-center">
        <div class="col-6 row g-4 py-4 border-bottom" id="form-page-3" style="display:none">
        <h3 class="pb-2 pt-5 border-bottom">Medical Information</h3>

        {% csrf_token %}

        {% for question in medical_question %}

        <div class="col-sm-12 gender-q {{ question.gender }}">
          <label id="question-{{ question.id }}">
            {{ question.prompt }}
          </label>

          {% if question.type == "select" %}
          <select class="form-select" name="{{ question.id }}" id="answer">
            {% for option in question.options %}
            <option value="{{ option }}">
              {{ option }}
            </option>
            {% endfor %}
          </select>
          {% endif %}

          {% if question.type == "text" %}
          <input maxlength="{{ question.maxLength }}" class="form-control" 
            type="text" id="{{ question.id }}" name="{{ question.id }}" />
          {% endif %}

          {% if question.type == "radio" %}
            {% for option in question.options %}
              <input type="radio" name="{{ question.id }}" value="{{ option }}">
              <label class="form-check-label" for="{{ option }}">
                {{ option }}
              </label>
              {% endfor %}
          {% endif %}

        </div>
        {% endfor %}

        <div class="text-center">
          <a class="btn btn-primary my-4 float-right" onclick="goTo(2)">Previous</a>
          <button class="btn btn-primary my-4 float-right" type="submit">Submit</button>
        </div>
        
        </div>
      </div> <!-- end page 3 -->

    </form>
  </div>
    

      


  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>
  <script type="text/javascript">
    function goTo(page) {
      if (page == 1) {
        document.getElementById('form-page-1').style.display = "block";
        document.getElementById('form-page-2').style.display = "none";
        document.getElementById('form-page-3').style.display = "none";
      }
      if (page == 2) {
        document.getElementById('form-page-1').style.display = "none";
        document.getElementById('form-page-2').style.display = "block";
        document.getElementById('form-page-3').style.display = "none";
      }
      if (page == 3) {
        document.getElementById('form-page-1').style.display = "none";
        document.getElementById('form-page-2').style.display = "none";
        document.getElementById('form-page-3').style.display = "block";
      }
    }

    function genderQuestion(gender) {
      let femaleQuestions = document.getElementsByClassName('F');
      for (let i = 0; i < femaleQuestions.length; i++) {
        let q = femaleQuestions[i];
        if (gender == "Male") {
          q.style.display = "none";
        } else {
          q.style.display = "block";
        }
      }
    }
  </script>
</body>
</html>